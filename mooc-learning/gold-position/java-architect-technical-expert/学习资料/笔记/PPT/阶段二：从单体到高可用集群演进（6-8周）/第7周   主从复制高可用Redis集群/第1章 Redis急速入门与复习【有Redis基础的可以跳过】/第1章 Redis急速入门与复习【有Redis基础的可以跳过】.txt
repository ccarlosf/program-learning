1-1 分布式架构概述（15分钟）



1-2 为何引入Redis？（6分钟）



1-3 什么是NoSql？（5分钟）



1-4 什么是分布式缓存，什么是Redis？（3分钟）



1-5 分布式缓存方案与技术选型：Redis VS Memcache VS Ehcache（5分钟）



1-6 安装与配置Redis（17分钟）
1.上传redis至服务器redis-1（192.168.253.155）

2.解压缩redis安装包
cd /home/software
tar -zxvf redis-5.0.5.tar.gz

3.安装redis
cd redis-5.0.5
yum install gcc-c++
make
make install

4.配置redis
(1) 配置redis初始化脚本至etc目录
cd utils/
cp redis_init_script /etc/init.d/
cd /etc/init.d

(2) 拷贝redis.conf至/usr/local/redis/目录
cd /home/software/redis-5.0.5
mkdir /usr/local/redis -p
cp redis.conf /usr/local/redis/

(3) 修改核心配置文件
cd /usr/local/redis/
vim redis.conf

/dae
修改为后台启动
daemonize yes

/dir
修改redis工作空间
# The working directory.
#
# The DB will be written inside this directory, with the filename specified
# above using the 'dbfilename' configuration directive.
#
# The Append Only File will also be created inside this directory.
#
# Note that you must specify a directory here, not a file name.
dir /usr/local/redis/working

创建working目录
mkdir working

/bind
修改绑定ip（允许远程使用）
# ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the
# internet, binding to all the interfaces is dangerous and will expose the
# instance to everybody on the internet. So by default we uncomment the
# following bind directive, that will force Redis to listen only into
# the IPv4 loopback interface address (this means Redis will be able to
# accept connections only from clients running into the same computer it
# is running).
#
# IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES
# JUST COMMENT THE FOLLOWING LINE.
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
bind 0.0.0.0

/pass
设置redis密码
# Warning: since Redis is pretty fast an outside user can try up to
# 150k passwords per second against a good box. This means that you should
# use a very strong password otherwise it will be very easy to break.
#
requirepass imooc

/port

/pid

(4) 修改redis启动脚本
cd /etc/init.d/
vim redis_init_script
CONF="/usr/local/redis/redis.conf"

给redis脚本授予777权限
chmod 777 redis_init_script

启动redis
./redis_init_script start

检查redis进程
ps -ef|grep redis

设置redis自启动
vim redis_init_script
# chkconfig: 22345 10 90
# description: Start and Stop redis

命令执行，设置为redis开机自启动
chkconfig redis_init_script on

重新启动服务器，自测
reboot

检查redis进程
ps -ef | grep redis



1-7 附：安装与配置 Redis



1-8 Redis命令行客户端基本使用（4分钟）
1.进入redis脚本目录
cd /etc/init.d/
vim redis_init_script

2.客户端存放工具
CLIEXEC=/usr/local/bin/redis-cli

3.命令行执行redis-cli

4.查看redis-cli 进程
[root@pinyoyougou-docker ~]# ps -ef|grep redis
root       638     1  0 3月11 ?       00:00:47 /usr/local/bin/redis-server 0.0.0.0:6379
root      5488  2165  0 06:13 pts/0    00:00:00 redis-cli
root      5507  5489  0 06:13 pts/1    00:00:00 grep --color=auto redis

5.登录
auth imooc

6.设置
set name imooc

7.取值
get name

8.删除
del name

127.0.0.1:6379> auth imooc
OK
127.0.0.1:6379> set name imooc
OK
127.0.0.1:6379> get name
"imooc"
127.0.0.1:6379> del name
(integer) 1
127.0.0.1:6379> get name
(nil)
127.0.0.1:6379>

9.检查redis存活
[root@pinyoyougou-docker init.d]# redis-cli  ping
(error) NOAUTH Authentication required.
[root@pinyoyougou-docker init.d]# redis-cli -a imooc ping
Warning: Using a password with '-a' or '-u' option on the command line interface may not be safe.
PONG

10.停止redis服务
停止redis服务，停止不了，因为是需要密码
./redis_init_script stop

vim redis_init_script
$CLIEXEC -a "imooc" -p $REDISPORT shutdown